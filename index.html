<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
		<title>ICS 33 Grades</title>
        <link rel="icon" href="ICS33-Grade-Viewer/img/33icon.png">
        <link rel="stylesheet" href="ICS33-Grade-Viewer/css/normalize.css">
        <link rel="stylesheet" href="ICS33-Grade-Viewer/css/gradeviewer.css">
        <link rel="stylesheet" href="ICS33-Grade-Viewer/css/responsive.css">
        <link rel="manifest" href="ICS33-Grade-Viewer/manifest.json">
	    <script lang="javascript" src="ICS33-Grade-Viewer/js/JSZip/dist/jszip.js"></script>
        <script lang="javascript" src="ICS33-Grade-Viewer/js/gradeviewer.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <script lang="javascript" src="ICS33-Grade-Viewer/js/sheetjs/dist/xlsx.full.min.js"></script>
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134668049-2"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-134668049-2');
        </script>
    </head>
    <body>
        <header>
            <center><h1>ICS 33 Grade Viewer</h1></center>
        </header>
        <div id='hash_input_form'>
            <input id="hashID" type = "tel" name = "hashIDinput" placeholder="Hash Id" required>
            <input id="enterButton" type = "button" value = "Enter" onclick = "loadHashGrades()">
            <p><a href="https://support.ics.uci.edu/studentID/" target="_blank">Forgot your Hash ID?</a></p>
        </div>
        <div>
            <table id="GradesTable" border="2"></table>
        </div>
        <footer>
            <input type="button" value="Show all grades", onclick = "loadAllGrades()">
	        <p>
                <a href="https://www.ics.uci.edu/~pattis/ICS-33/" target="_blank">ICS 33 Website</a>
                |
                <a id="gradesZip" href="" target="_blank">Download Grades</a>
            </p>
            <p>
                Created by <a class="profile"href="https://www.linkedin.com/in/ChaseCarnaroli/" target="_blank">Chase Carnaroli</a>
                <br>
                <br>
                Contributors:
                <br>
                <a class="profile" href="https://www.linkedin.com/in/tristan-jogminas/" target="_blank"> Tristan Jogminas</a>,
                <a class="profile" href="https://www.linkedin.com/in/miles-hong-a74ba3155/" target="_blank">Miles Hong</a>,
                <a class="profile" href="https://www.linkedin.com/in/willsunnn/" target="_blank">William Sun</a>
                <br>
           	    <br>
           	    If you would like to help, check out our GitHub!
       	    </p>
	        <p><a href="https://github.com/ChaseC99/ICS33-Grade-Viewer" target="_blank"><img src="ICS33-Grade-Viewer/img/githubicon.png" alt="GitHub Logo" class="social-icon">Source Code</a></p>
	    </footer>
    </body>
    <script>
        // Download grades from ICS 33 website when the page loads
        // Improves speed because it downloads the grades before
        //      the user types in their number
        download_grades(console.log);

        // Link enter button in hashID input, with enterButton
        $("#hashID").keyup(function(event) {
            // Check to see if enter button (code 13) was pressed
            if (event.keyCode === 13) {
                $("#hashID").blur()         // Defocuses hashID input
                $("#enterButton").click();  // Clicks enter button
            }
        });
	
	    // Checks for hash id cookie
        // If there is one, replace hashID value with hash id from cookie
        if (getHashCookie() != "") {
            $('#hashID').attr("value", getHashCookie());
        };

	    // Focus on the input field
        $('#hashID').focus();

	    // Selects text in input field
	    $('#hashID').select();

	    // Set link to download grades zip
        $('#gradesZip').attr('href', 'https://' + grades_url)
    </script>
</html>
